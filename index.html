<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NPA Image Lab v2 ‚Äî Dummy AI Generator (Square)</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#081029; --card:#0f1724; --muted:#a6b0c3; --accent:#1e90ff;
    --glow: rgba(30,144,255,0.14);
    --btn:#0ea5e9; --white:#eef6ff;
  }
  *{box-sizing:border-box}
  body{margin:0; font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial; background:linear-gradient(180deg,var(--bg),#021026 120%); color:var(--white); -webkit-font-smoothing:antialiased}
  .wrap{max-width:1100px;margin:28px auto;padding:22px}
  header{display:flex;gap:16px;align-items:center}
  .logo{width:54px;height:54px;border-radius:12px;background:linear-gradient(135deg,#0ea5e9,#2563eb);display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 8px 30px var(--glow)}
  h1{font-size:20px;margin:0}
  p.lead{color:var(--muted);margin:4px 0 0;font-size:13px}

  .grid{display:grid;grid-template-columns:1fr 420px;gap:18px;margin-top:18px}
  .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.04); padding:16px;border-radius:12px;box-shadow:0 8px 40px rgba(2,6,23,0.5)}
  label{display:block;font-size:13px;margin-bottom:8px;color:var(--muted);font-weight:600}
  select,input,textarea{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);color:var(--white);outline:none}
  textarea{min-height:84px;resize:vertical}
  .row{display:flex;gap:10px}
  .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
  .btn-primary{background:linear-gradient(90deg,var(--btn),var(--accent));color:#012;box-shadow:0 8px 30px rgba(30,144,255,0.18)}
  .btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--white)}
  .muted{color:var(--muted);font-size:13px}
  .tools{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}

  /* preview */
  .preview-wrap{display:flex;flex-direction:column;align-items:center;gap:12px}
  .preview{width:360px;height:360px;border-radius:12px;background:linear-gradient(180deg,#071127,#0b1320);display:flex;align-items:center;justify-content:center;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}
  .preview img{width:100%;height:100%;object-fit:cover;display:block}
  .caption-box{width:100%;}
  .meta{display:flex;justify-content:space-between;align-items:center;width:100%}
  .small{font-size:12px;color:var(--muted)}

  footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
  .copy-ok{color:#7ef3a4;font-weight:700;margin-left:8px;font-size:13px}

  /* responsive */
  @media (max-width:980px){
    .grid{grid-template-columns:1fr;align-items:start}
    .preview{width:320px;height:320px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="logo">NPA</div>
      <div>
        <h1>NPA Image Lab v2 ‚Äî Dummy AI Generator</h1>
        <p class="lead">Prompt builder & caption generator ‚Äî mode gratis (dummy). Hasil gambar square (1:1) dari Unsplash.</p>
      </div>
    </header>

    <div class="grid">
      <!-- LEFT: Controls -->
      <div class="card">
        <label>Pilih Tema (31 pilihan)</label>
        <select id="themeSelect">
          <option value="Motivasi Pagi">Motivasi Pagi</option>
          <option value="Networking for Ummah">Networking for Ummah</option>
          <option value="3IReborn Spirit">3IReborn Spirit</option>
          <option value="NganggurPreneur Academy">NganggurPreneur Academy</option>
          <option value="Bisnis Syariah">Bisnis Syariah</option>
          <option value="Produktif & Berkah">Produktif & Berkah</option>
          <option value="Kebiasaan Positif">Kebiasaan Positif</option>
          <option value="KSM Movement">KSM Movement</option>
          <option value="Inspirasi Kepemimpinan">Inspirasi Kepemimpinan</option>
          <option value="Visionary Muslimah">Visionary Muslimah</option>
          <option value="Financial Freedom">Financial Freedom</option>
          <option value="Morning Routine">Morning Routine</option>
          <option value="Work From Home Productive">Work From Home Productive</option>
          <option value="Family & Business Balance">Family & Business Balance</option>
          <option value="Digital Marketing Tips">Digital Marketing Tips</option>
          <option value="Car Insurance Awareness">Car Insurance Awareness</option>
          <option value="Anti Rugi Mindset">Anti Rugi Mindset</option>
          <option value="Passive Income Ideas">Passive Income Ideas</option>
          <option value="Leadership Coaching">Leadership Coaching</option>
          <option value="Spiritual Business">Spiritual Business</option>
          <option value="Community Growth">Community Growth</option>
          <option value="Youth Entrepreneurship">Youth Entrepreneurship</option>
          <option value="Senior Preparedness">Senior Preparedness</option>
          <option value="Success Habit">Success Habit</option>
          <option value="Branding 3IReborn">Branding 3IReborn</option>
          <option value="Testimonial Style">Testimonial Style</option>
          <option value="Event Poster">Event Poster</option>
          <option value="Minimalist Poster">Minimalist Poster</option>
          <option value="Warm Coffee Vibe">Warm Coffee Vibe</option>
          <option value="Hope & Resilience">Hope & Resilience</option>
          <option value="Custom">Custom Prompt...</option>
        </select>

        <label style="margin-top:12px">Custom Prompt (opsional)</label>
        <textarea id="customPrompt" placeholder="Ketik prompt khusus di sini jika pilih Custom..."></textarea>

        <label style="margin-top:12px">Gaya (opsional)</label>
        <select id="styleSelect">
          <option value="realistic">Realistic</option>
          <option value="illustration">Illustration</option>
          <option value="flat">Flat / Minimal</option>
          <option value="poster">Poster</option>
          <option value="digital-art">Digital Art</option>
          <option value="watercolor">Watercolor</option>
        </select>

        <div style="margin-top:12px" class="row">
          <button id="btnGenerate" class="btn btn-primary">üöÄ Generate Gambar</button>
          <button id="btnRefresh" class="btn btn-ghost">üîÅ Refresh</button>
        </div>

        <div class="tools" style="margin-top:12px">
          <button id="btnCopyPrompt" class="btn btn-ghost">üìã Copy Prompt</button>
          <button id="btnOpenBing" class="btn btn-ghost">üåê Open in Bing Image</button>
          <button id="btnCopyCaption" class="btn btn-ghost">üìù Copy Caption</button>
          <button id="btnDownload" class="btn btn-ghost">‚¨áÔ∏è Download</button>
        </div>

        <div style="margin-top:12px" class="muted">
          <div><strong>Note:</strong> Mode Dummy ‚Äî gambar berasal dari Unsplash sesuai tema. Untuk generate AI nyata, hubungkan backend Hugging Face atau layanan lain.</div>
        </div>
      </div>

      <!-- RIGHT: Preview -->
      <div class="card preview-wrap">
        <div class="meta" style="width:100%">
          <div class="small">Preview Square (1:1)</div>
          <div class="small" id="statusText">Ready</div>
        </div>

        <div class="preview" id="previewBox" aria-hidden="false">
          <img id="previewImg" src="https://source.unsplash.com/800x800/?inspiration" alt="preview">
        </div>

        <div class="caption-box">
          <label>Prompt (Generated)</label>
          <textarea id="generatedPrompt" readonly></textarea>

          <label style="margin-top:8px">Caption (FB-friendly)</label>
          <textarea id="generatedCaption" readonly></textarea>

          <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px">
            <div class="muted">Hashtag suggestion: <span style="color:var(--btn)">#3iReborn #NPA</span></div>
            <div id="copyNote" class="copy-ok" style="display:none">‚úì Copied</div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      NPA Image Lab v2 ‚Äî Dummy Mode ‚Ä¢ Built for Nganggur Preneur Akademi (3IReborn) ‚Ä¢ Square images 800√ó800
    </footer>
  </div>

<script>
(function(){
  // elements
  const theme = document.getElementById('themeSelect');
  const custom = document.getElementById('customPrompt');
  const style = document.getElementById('styleSelect');
  const btnGen = document.getElementById('btnGenerate');
  const btnRef = document.getElementById('btnRefresh');
  const previewImg = document.getElementById('previewImg');
  const statusText = document.getElementById('statusText');
  const genPrompt = document.getElementById('generatedPrompt');
  const genCaption = document.getElementById('generatedCaption');
  const btnCopyPrompt = document.getElementById('btnCopyPrompt');
  const btnCopyCaption = document.getElementById('btnCopyCaption');
  const btnOpenBing = document.getElementById('btnOpenBing');
  const btnDownload = document.getElementById('btnDownload');
  const copyNote = document.getElementById('copyNote');

  // helper: builds prompt based on theme + style
  function buildPrompt(them, customText, styl) {
    if (them === 'Custom' || them === 'Custom Prompt...') {
      return customText.trim() || 'A beautiful inspirational scene, minimal composition, high quality';
    }
    const base = {
      "Motivasi Pagi":"A cozy morning scene with a person enjoying coffee and writing plans for the day, warm light, cinematic",
      "Networking for Ummah":"A friendly networking event of Muslim entrepreneurs, warm atmosphere, modern hall, candid photography",
      "3IReborn Spirit":"Dynamic portrait of a motivated insurance entrepreneur with confident smile, corporate but warm",
      "NganggurPreneur Academy":"Training workshop scene showing collaboration, laptop, notes, and excited faces",
      "Bisnis Syariah":"Elegant office meeting discussing Islamic finance, professional attire, respectful tones",
      "Produktif & Berkah":"Morning productivity scene, to-do list, coffee, soft sunlight through window",
      "Kebiasaan Positif":"Daily healthy habit scene, jogging or reading, serene and focused",
      "KSM Movement":"Energetic group portrait, uniforms with KSM logo, celebratory mood",
      "Inspirasi Kepemimpinan":"Leader giving inspiring speech on stage with audience, cinematic lighting",
      "Visionary Muslimah":"Strong female entrepreneur portrait, confident, modern, elegant",
      "Financial Freedom":"Symbolic image of growing plants and coins, hands nurturing growth, flat design",
      "Morning Routine":"Peaceful morning desk setup with planner and phone, minimal aesthetic",
      "Work From Home Productive":"Home office setup, video calls, engaged worker, cozy lighting",
      "Family & Business Balance":"Family and business life balanced, parent working while child plays nearby",
      "Digital Marketing Tips":"Flat-lay of marketing tools: phone, laptop, notes, analytics charts",
      "Car Insurance Awareness":"Friendly agent explaining car insurance benefits, driver and car in background",
      "Anti Rugi Mindset":"Bold poster-style image with motivational slogan about avoiding losses",
      "Passive Income Ideas":"Illustration of streams of income, small icons representing diverse streams",
      "Leadership Coaching":"Personal coaching session, mentor and mentee in discussion",
      "Spiritual Business":"Prayer corner in workspace with subtle devotional elements, respectful tone",
      "Community Growth":"Community gathering outdoors, smiling faces, collaborative vibe",
      "Youth Entrepreneurship":"Young people brainstorming with sticky notes and energy",
      "Senior Preparedness":"Older couple reviewing documents with advisor, calm and trusted mood",
      "Success Habit":"Journal and habit tracker close-up, tidy desk aesthetic",
      "Branding 3IReborn":"Modern brand mockup with logo presentation and confident designer",
      "Testimonial Style":"Polaroid style testimonial photos with smiling customers",
      "Event Poster":"Bold poster composition for seminar with headline space",
      "Minimalist Poster":"Minimal poster with strong typography and single focal icon",
      "Warm Coffee Vibe":"Close-up of coffee and planner, soft warm tones, inviting mood",
      "Hope & Resilience":"Symbolic sunrise over city, hopeful mood and uplifting composition"
    };
    const core = base[them] || `${them} scene, high quality, cinematic`;
    return `${core}. Style: ${styl}. High resolution, sharp detail, soft lighting, photographic composition`;
  }

  // caption builder (FB-friendly)
  function buildCaption(them, promptText) {
    const templates = [
      `Pagi ini kita siapkan niat dan rencana. Sedikit langkah konsisten, hasil akan mengikuti. #3iReborn`,
      `Tidak ada jalan pintas ‚Äî hanya kerja cerdas dan doa. Bismillah, lanjutkan perjuangan!`,
      `Mulailah hari dengan tujuan. Jadikan setiap tindakan bermakna. #NPA #NganggurPreneur`,
      `Bersama kita bisa membangun jaringan yang saling menguatkan. Yuk bergerak hari ini!`,
      `Kesuksesan datang dari kebiasaan kecil yang dilakukan terus-menerus. Tetap semangat!`
    ];
    // choose based on theme tone
    let pick = templates[Math.floor(Math.random()*templates.length)];
    // gentle prepend for certain themes
    if (/insurance|Car Insurance|Anti Rugi|Premium|premi/i.test(them)) {
      pick = `Perlindungan & ketenangan pikiran dimulai dari langkah kecil. ${pick}`;
    }
    // include soft CTA (no link)
    return `${pick}\n\n${promptText.split('.').slice(0,2).join('.')}.\n\n#3iReborn #NPA`;
  }

  // generate image (dummy from unsplash)
  async function generateImage() {
    const them = theme.value;
    const styl = style.value;
    const customText = custom.value;
    const prompt = buildPrompt(them, customText, styl);
    genPrompt.value = prompt;
    statusText.textContent = 'Membuat gambar...';
    btnGen.disabled = true;
    btnGen.textContent = '‚è≥ Membuat...';
    // simulate delay for realism
    await new Promise(r => setTimeout(r, 900 + Math.random()*900));
    // unsplash keywords - use theme words and style
    const keywords = encodeURIComponent(`${them} ${styl} inspiration`);
    const url = `https://source.unsplash.com/800x800/?${keywords}`;
    // set preview
    previewImg.src = url + '&' + Date.now(); // cache buster
    // caption
    const caption = buildCaption(them, prompt);
    genCaption.value = caption;
    statusText.textContent = 'Selesai';
    btnGen.disabled = false;
    btnGen.textContent = 'üöÄ Generate Gambar';
  }

  // refresh image (re-apply last prompt)
  function refreshImage(){
    // trigger regenerate using current prompt (will fetch new unsplash)
    previewImg.src = previewImg.src.split('?')[0] + '?' + Date.now();
    statusText.textContent = 'Refresh gambar...';
    setTimeout(()=>statusText.textContent='Selesai',800);
  }

  // copy helpers
  async function copyText(txt, show=true){
    try {
      await navigator.clipboard.writeText(txt);
      copyNote.style.display='inline-block';
      copyNote.textContent='‚úì Copied';
      setTimeout(()=>copyNote.style.display='none',1200);
    } catch(e){
      alert('Gagal menyalin. Izinkan akses clipboard.');
    }
  }

  // download image: try fetch blob then download
  async function downloadImage(){
    try{
      statusText.textContent='Menyiapkan download...';
      const res = await fetch(previewImg.src);
      const blob = await res.blob();
      const a = document.createElement('a');
      const url = URL.createObjectURL(blob);
      a.href = url;
      a.download = 'npa-image-800x800.jpg';
      document.body.appendChild(a);
      a.click();
      a.remove();
      URL.revokeObjectURL(url);
      statusText.textContent='Download selesai';
      setTimeout(()=>statusText.textContent='Selesai',900);
    }catch(e){
      alert('Gagal download: ' + e.message);
      statusText.textContent='Error';
    }
  }

  // open in bing image creator (copy prompt + open)
  function openBing(){
    const p = genPrompt.value || '';
    copyText(p,false);
    // Bing Image Creator uses search param 'q' for image create page (may require login)
    const url = 'https://www.bing.com/images/create?q=' + encodeURIComponent(p);
    window.open(url,'_blank');
  }

  // events
  btnGen.addEventListener('click', generateImage);
  btnRef.addEventListener('click', refreshImage);
  btnCopyPrompt.addEventListener('click', ()=>copyText(genPrompt.value));
  btnCopyCaption.addEventListener('click', ()=>copyText(genCaption.value));
  btnOpenBing.addEventListener('click', openBing);
  btnDownload.addEventListener('click', downloadImage);

  // initial
  (()=>{
    genPrompt.value = buildPrompt(theme.value, custom.value, style.value);
    genCaption.value = buildCaption(theme.value, genPrompt.value);
  })();

  // update when selecting Custom to auto-fill placeholder
  theme.addEventListener('change', ()=>{
    if (theme.value === 'Custom' || theme.value === 'Custom Prompt...') {
      custom.placeholder = 'Tulis prompt kustom: contoh "A visionary Muslim entrepreneur on rooftop, sunset, cinematic"';
      custom.focus();
    } else {
      custom.placeholder = '';
      // update prompt/caption previews
      genPrompt.value = buildPrompt(theme.value, custom.value, style.value);
      genCaption.value = buildCaption(theme.value, genPrompt.value);
    }
  });

  // update previews when custom changed
  custom.addEventListener('input', ()=>{
    if (theme.value === 'Custom' || theme.value === 'Custom Prompt...') {
      genPrompt.value = buildPrompt('Custom', custom.value, style.value);
      genCaption.value = buildCaption('Custom', genPrompt.value);
    }
  });

  style.addEventListener('change', ()=> {
    genPrompt.value = buildPrompt(theme.value, custom.value, style.value);
    genCaption.value = buildCaption(theme.value, genPrompt.value);
  });

  // when preview image loads, ensure status
  previewImg.addEventListener('load', ()=> {
    statusText.textContent = 'Selesai';
  });
})();
</script>
</body>
  </html>
