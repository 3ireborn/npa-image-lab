<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NPA Image Lab â€” v2.6.1 Dummy Direct</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg:#071025; --card:#0f1b2a; --accent:#10b981; --muted:#9fb0c6;
  }
  body {
    margin:0; font-family:Poppins,system-ui,sans-serif;
    background:var(--bg); color:#e6f0fb;
  }
  .wrap{max-width:900px;margin:auto;padding:20px}
  h1{margin:0;font-size:28px}
  .muted{color:var(--muted);font-size:14px}
  .card{background:rgba(255,255,255,0.04);border-radius:16px;padding:18px;margin-top:14px;box-shadow:0 8px 25px rgba(2,6,23,.5)}
  select,input,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.05);background:rgba(255,255,255,0.05);color:#e6f0fb}
  .btn{padding:10px 16px;border-radius:10px;font-weight:600;cursor:pointer;border:0}
  .btn-green{background:#06d6a0;color:#04202e}
  .btn-yellow{background:#facc15;color:#04202e}
  .btn-blue{background:#06b6d4;color:#04202e}
  .btn-dark{background:rgba(255,255,255,0.1);color:#fff}
  .row{display:flex;flex-wrap:wrap;gap:10px}
  .preview{height:400px;border-radius:12px;background:#0b192b;display:flex;align-items:center;justify-content:center;overflow:hidden;margin-top:10px}
  img.preview-img{width:100%;height:100%;object-fit:cover}
  .log{font-size:13px;margin-top:6px;color:#bce3ff}
</style>
</head>
<body>
<div class="wrap">
  <h1>NPA Image Lab <span class="muted">v2.6.1 Dummy Mode</span></h1>
  <p class="muted">Mode Dummy: ambil gambar langsung dari Unsplash tanpa API Key â€” aman dan cepat.</p>

  <div class="card">
    <label>ğŸŒˆ Ide Gambar</label>
    <select id="idea">
      <option>Bisnis Syariah Modern</option>
      <option>Networking for Ummah</option>
      <option>3IReborn â€” Perlindungan & Investasi</option>
      <option>Warung Rumahan Hangat</option>
      <option>Motivasi Pagi</option>
      <option>Custom</option>
    </select>

    <label style="margin-top:10px">ğŸ¨ Gaya Visual</label>
    <select id="visual">
      <option>Clean Corporate</option>
      <option>Warm Homely</option>
      <option>Elegant Minimalist</option>
      <option>Bright Lifestyle</option>
    </select>

    <label style="margin-top:10px">ğŸ–¼ Rasio Gambar</label>
    <select id="ratio">
      <option value="4:5" selected>4:5 â€” Feed</option>
      <option value="1:1">1:1 â€” Square</option>
      <option value="16:9">16:9 â€” Reel</option>
      <option value="9:16">9:16 â€” Story</option>
    </select>

    <label style="margin-top:10px">ğŸ”Š Gaya Caption</label>
    <select id="tone">
      <option>Motivasi Lembut</option>
      <option>Inspiratif</option>
      <option>Persuasif</option>
      <option>Syariah & Bijak</option>
    </select>

    <div class="row" style="margin-top:14px">
      <button id="generate" class="btn btn-blue">ğŸš€ Generate Gambar</button>
      <button id="refresh" class="btn btn-yellow">ğŸ” Refresh Caption</button>
      <button id="copy" class="btn btn-dark">ğŸ“‹ Copy Caption</button>
    </div>

    <div class="preview" id="preview">
      <span class="muted">Belum ada gambar...</span>
    </div>

    <h3 style="margin-top:14px">âœï¸ Caption</h3>
    <div id="caption" style="white-space:pre-line;font-size:15px"></div>

    <div class="row" style="margin-top:10px">
      <button id="download" class="btn btn-dark">â¬‡ï¸ Download Gambar + Caption</button>
      <button id="send" class="btn btn-green">ğŸ“¡ Kirim ke NPA Smart</button>
    </div>

    <div class="log" id="log"></div>
  </div>
</div>

<script>
const $ = id => document.getElementById(id);
function log(t){$('log').textContent='['+new Date().toLocaleTimeString()+'] '+t;}

const CAPT = {
  "Motivasi Lembut":[
    "Sruput kopi, tarik napas, dan ingat: satu langkah kecil hari ini bisa ubah hidupmu ğŸŒ¤ï¸",
    "Jangan terburu-buru. Nikmati prosesnya, tiap usaha kecil tetap berarti ğŸƒ"
  ],
  "Inspiratif":[
    "Mulai dari niat, lanjutkan dengan aksi. Langit pun tersenyum melihat semangatmu â˜€ï¸",
    "Kegigihanmu hari ini jadi kebanggaan di masa depan ğŸ’ª"
  ],
  "Persuasif":[
    "Yuk bergabung bersama kami â€” langkah kecilmu bisa jadi awal perubahan besar ğŸš€",
    "Klik komentar di bawah dan mulai perjalanan suksesmu hari ini âœ¨"
  ],
  "Syariah & Bijak":[
    "Rezeki tak tertukar. Yang penting niat baik dan usaha sungguh-sungguh ğŸ¤²",
    "Kerja keras dengan nilai halal, hasilnya berkah dan menenangkan hati ğŸŒ™"
  ]
};

let lastImg = '';

$('generate').onclick = ()=>{
  const idea = $('idea').value;
  const vis = $('visual').value;
  const ratio = $('ratio').value;
  const query = encodeURIComponent(idea+' '+vis+' poster');
  let size='800x1000';
  if(ratio==='1:1') size='900x900';
  if(ratio==='16:9') size='1280x720';
  if(ratio==='9:16') size='720x1280';
  const url=`https://source.unsplash.com/${size}/?${query}`;
  lastImg=url;
  $('preview').innerHTML=`<img src="${url}" class="preview-img" alt="preview">`;
  buildCaption();
  log('Gambar ditampilkan (Dummy Unsplash) âœ…');
};

$('refresh').onclick = ()=>buildCaption(true);
$('copy').onclick = ()=>{navigator.clipboard.writeText($('caption').textContent);log('Caption disalin âœ…');};
$('download').onclick = ()=>{
  if(!lastImg){alert('Belum ada gambar');return;}
  const a=document.createElement('a');
  a.href=lastImg;a.download='npa-image.jpg';a.click();
  const blob=new Blob([$('caption').textContent],{type:'text/plain'});
  const url=URL.createObjectURL(blob);
  const b=document.createElement('a');b.href=url;b.download='caption.txt';b.click();URL.revokeObjectURL(url);
  log('Gambar+caption diunduh âœ…');
};
$('send').onclick=()=>{alert('Simulasi kirim ke NPA Smart (Dummy).');log('Kirim dummy sukses âœ…');};

function buildCaption(){
  const tone=$('tone').value;
  const capts=CAPT[tone];
  const c=capts[Math.floor(Math.random()*capts.length)];
  const idea=$('idea').value;
  $('caption').textContent=`${c}\n\n#${idea.replace(/\s+/g,'_')}`;
  log('Caption diupdate âœ…');
}

buildCaption();
log('Sistem siap v2.6.1 ğŸš€');
</script>
</body>
</html>
